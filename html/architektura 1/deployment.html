<h1 id="deployment-view">Deployment view</h1>
<h2 id="primary-presentation">Primary presentation</h2>
<h3 id="uml">UML</h3>
<figure>
<img src="../assets/prodejni_system_deployment_diagram.png" title="Deployment diagram prodejního systému" alt="Deployment diagram" /><figcaption aria-hidden="true">Deployment diagram</figcaption>
</figure>
<h3 id="vysvětlivka-diagramu">Vysvětlivka diagramu</h3>
<ul>
<li><strong>Node</strong> (uzel) - Jde o fyzické zařízení nebo prostředí pro zpracování softwaru (tzn. execution environment).</li>
</ul>
<figure>
<img src="../assets/diagram_legend_assets/node.png" title="Znak uzlu" alt="Node" /><figcaption aria-hidden="true">Node</figcaption>
</figure>
<ul>
<li><strong>Artifact</strong> (artefakt) - Artefakt označuje fyzický výskyt softwaru.</li>
</ul>
<figure>
<img src="../assets/diagram_legend_assets/artifact.png" title="Znak artefaktu" alt="Artifact" /><figcaption aria-hidden="true">Artifact</figcaption>
</figure>
<ul>
<li><strong>Database</strong> (databáze) - Jde o znak databáze, která je součástí SŘBD.</li>
</ul>
<figure>
<img src="../assets/diagram_legend_assets/database.png" title="Znak databáze" alt="Database" /><figcaption aria-hidden="true">Database</figcaption>
</figure>
<h4 id="kód-diagramu"><strong>Kód diagramu</strong></h4>
<blockquote>
<p><span class="citation" data-cites="startuml">@startuml</span></p>
<p>left to right direction</p>
<p>node “Zařízení obchodníka se stánky” as StandsOwnerDevice</p>
<p>node “Zařízení provozovatele stánku” as StandManagerDevice</p>
<p>node “Zařízení pracovníka správy zásob” as WarehouseWorkerDevice</p>
<p>node “Microsoft Azure” as azure <code>&lt;&lt;execution environment&gt;&gt;</code> {</p>
<p>node “Webový server” as WebServer {</p>
<p>node Kestrel <code>&lt;&lt;execution environment&gt;&gt;</code> {</p>
<p>artifact “Aplikace webové API” <code>&lt;&lt;application&gt;&gt;</code></p>
<p>}</p>
<p>}</p>
<p>node “Databázový server” as DbServer {</p>
<p>node “MS SQL Server” <code>&lt;&lt;DBMS&gt;&gt;</code> {</p>
<p>database “Databáze prodejního systému”</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>StandsOwnerDevice – WebServer : HTTP</p>
<p>StandManagerDevice – WebServer : HTTP</p>
<p>WarehouseWorkerDevice – WebServer : HTTP</p>
<p>WebServer – DbServer : ODBC</p>
<p><span class="citation" data-cites="enduml">@enduml</span></p>
</blockquote>
<h2 id="element-catalog">Element catalog</h2>
<ul>
<li><strong>Zařízení obchodníka se stánky</strong>
<ul>
<li>Fyzické zařízení v roli tenkého klienta, přičemž toto zařízení může mít specifický operační systém (Windows, Android, iOS).</li>
</ul></li>
<li><strong>Zařízení provozovatele stánku</strong>
<ul>
<li>Fyzické zařízení v roli tenkého klienta, přičemž toto zařízení může mít specifický operační systém (Windows, Android, iOS).</li>
</ul></li>
<li><strong>Zařízení pracovníka správy zásob</strong>
<ul>
<li>Fyzické zařízení v roli tenkého klienta, přičemž toto zařízení může mít specifický operační systém (Windows, Android, iOS).</li>
</ul></li>
<li><strong>Microsoft Azure</strong>
<ul>
<li>Jde o cloudové prostředí Azure od firmy Microsoft.</li>
</ul></li>
<li><strong>Web server</strong>
<ul>
<li>Fyzický server, na kterém běží Kestrel a .NET aplikaci pro webové API. Samozřejmě zde neuvažujeme load balancing, tedy v realitě může existovat několik síťových prvků (reverse proxy, load balancer) před webovým servrem, a také může existovat více fyzických webových serverů.</li>
</ul></li>
<li><strong>Kestrel</strong>
<ul>
<li>Multiplatformní webový server pro .NET aplikace.</li>
</ul></li>
<li><strong>Aplikace webové API</strong>
<ul>
<li>Jde o <code>ASP.NET Core</code> API aplikaci, která poskytuje endpointy a operace (aplikační model se konkrétně jmenuje <code>ASP.NET Core Web API</code>) pro požadované služby (ty jsou stanovené v diagramu komponent).</li>
</ul></li>
<li><strong>Databázový server</strong>
<ul>
<li>Jedná se o fyzický server, na kterém běží databáze a MS SQL Server, přičemž jako komunikační protokol je využíván ODBC.</li>
</ul></li>
<li><strong>MS SQL Server</strong>
<ul>
<li>Jde o Database Management System od společnosti Microsoft, který umožňuje pracovat s relačními databázovými tabulkami, které jsou používané naším prodejním systémem.</li>
</ul></li>
<li><strong>WMS server</strong>
<ul>
<li>Jedná se o externí servery, které dohromady realizují Warehouse Management System, respektive jde o server poskytující jednotné rozhraní k daným serverům nebo serveru.</li>
</ul></li>
<li><strong>Social media server</strong>
<ul>
<li>Jde o externí servery vlastníka sociálních sítí, respektive jde o server s API pro práci se sociální sítí vlastníka</li>
</ul></li>
</ul>
<h2 id="context-diagram">Context diagram</h2>
<p>N/A</p>
<h2 id="variability-guide">Variability guide</h2>
<p><strong>Vysoké množství podporovaných klientských zařízení</strong></p>
<p>Klientská aplikace prodejního systému by měla být multiplatformní, aby uživatelé nemuseli vlastnit specifické zařízení pro užívání prodejního systému.</p>
<p><strong>Nezávislost na platformě webového serveru</strong></p>
<p>Pro běh aplikace pro webové API je použit Kestrel, tedy aplikace nemusí běžet jen na Windows serveru (IIS), ale je podporovanán i Linux (nginx, Apache).</p>
<h2 id="rationale">Rationale</h2>
<p>Výhodou využití REST služeb je abstrakce od konkrétní implementace služeb, tedy klientská aplikace je nezávislá na daných službách a komunikuje s nimi za pomoci ESB a HTTP protokolu. Další výhodou je využívání serveru Kestrel, který umožňuje nasadit webovou API na nginx nebo Apache, tedy není zde potřeba využívat IIS.</p>
<p>Pro snazší provoz prodejního systému je zvolené prostředí MS Azure, protože serverová a klientská aplikace je napsaná na platformě .NET, dále vývojářský tým má nejvíce zkušeností s danou cloud platformou.</p>
<h2 id="related-views">Related Views</h2>
<ul>
<li><a href="../moduly/components.md" title="Diagram komponent">Diagram komponent</a></li>
</ul>
